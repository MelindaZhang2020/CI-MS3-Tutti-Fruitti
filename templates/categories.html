{% extends "base.html" %} {% block content %}
<h4 class="center-align">Manage Categories</h4>
<div class="row">
  <div class="col s12 center-align">
    <a href="{{ url_for('add_category') }}" class="btn-small"
      >Add category <i class="fas fa-plus-square right"></i
    ></a>
  </div>
</div>
<div class="row">
  {% for category in categories%}
  <div class="col s12 m6">
    <div class="card teal lighten-4">
      <div class="card-content white-text">
        <span class="card-title">{{ category.category_name }}</span>
      </div>
      <div class="card-action">
        <a
          class="btn-small"
          href="{{ url_for('edit_category', category_id=category._id) }}"
          >Edit</a
        >
        <a
          onclick="document.getElementById('delete_category{{category._id}}').style.display='block'"
          class="btn-small delete"
          >Delete</a
        >
      </div>
    </div>
  </div>
  <!-- Confirm deletion message  modal -->
  <!-- https://www.w3schools.com/howto/tryit.asp?filename=tryhow_css_delete_modal -->
  <div
    id="delete_category{{category._id}}"
    class="confirm"
    style="
      display: none;
      background-color: #b2ebf2;
      position: fixed;
      left: 20%;
      top: 20%;
      z-index: 1;
      width: 50%;
      height: auto;
      padding-top: 0;
      padding: 20px;
    "
  >
    <form class="confirm-content">
      <span
        onclick="document.getElementById('delete_category{{category._id}}').style.display='none'"
        class="close"
        title="Close Modal"
        >&times;</span
      >
      <p>Are you sure you want to delete this category?</p>
      <div class="clearfix">
        <a href="{{ url_for('get_categories') }} " class="btn-small cancel"
          >Cancel</a
        >
        <a
          href="{{ url_for('delete_category', category_id=category._id) }}"
          class="btn-small delete"
          >Delete</a
        >
      </div>
    </form>
  </div>
  <!-- end of source code -->
  {% endfor %}
</div>
{% endblock%}
